---
layout: default
title: Working with the correlation graph
parent: Using Security Analytics
nav_order: 45
---

# Working with the correlation graph

The correlation engine is an experimental feature released in OpenSearch 2.7. Therefore, we do not recommend enabling the feature in a production environment at this time. For updates on the progress of correlation engine, see [Security Analytics Correlation Engine](https://github.com/opensearch-project/security-analytics/issues/369) at GitHub. To share ideas and provide feedback, join the [Security Analytics forum](https://forum.opensearch.org/c/plugins/security-analytics/73).
{: .warning }

The correlation graph is a security findings knowledge graph. It provides a visualization for information generated by the correlation engine and allows you to focus on specific correlations and inspect them in greater detail. Information in the graph includes findings by log type, severity levels for the findings, the correlations drawn between findings, and the relevance of the correlations, among other details. You can also manipulate the graph to gain further insights into specific events of interest. This includes setting a date range for findings and their correlations, zooming in on the relationship between specific findings, and filtering by log type and severity level. Use this section to learn more about using the graph. 

## Acccessing the graph

Begin by selecting **Security Analytics** in the Dashboards home page menu. Then select **Correlations** from the Security Analytics menu on the left side of the screen. The **Correlations** page is displayed.

<img src="{{site.url}}{{site.baseurl}}/images/Security/sec-analytics/corr-graph.png" alt="The correlation graph" width="85%">

## Interpreting the graph

The graph displays findings as nodes with colored borders expressing their severity level. A three-letter abbreviation inside the node indicates the log type. The lines that connect the findings represent the correlations between them. A heavy line indicates a strong correlation, while a light line shows a weaker connection.

<img src="{{site.url}}{{site.baseurl}}/images/Security/sec-analytics/corr-graph-detail.png" alt="The correlation graph" width="40%">

## Using the graph

You can control which findings are displayed in the graph by filtering by severity level, log type, and time filter. The time filter controls the findings that appear in the graph by limiting the dates on which the findings were generated and, therefore, the correlations made between them.
* Use the **Severity** dropdown menu to select which findings appear in the graph by their severity level. The number beside the menu name shows how many severity levels are being shown in the graph.
* Use the **Log types** dropdown menu to select which log types to show on the graph. The number beside the menu name shows how many log types are being shown in the graph.
* Select **Reset filters** to return the dropdown menus to their default, showing all items.
* Use the time filter to set the the date range and show only those findings that were generated within that certain span of time. Select **Refresh** to bring the current number of findings up to date.

You can drill down in the graph to look at correlations associated with a specific finding by selecting the finding in the graph. The graph then changes to show only the selected finding along with the constellation of findings correlated to it.

<img src="{{site.url}}{{site.baseurl}}/images/Security/sec-analytics/corr-drill-dn.png" alt="Zooming in on a specific finding in the graph" width="40%">

After drilling down in the graph, informational cards for each of the findings appear in the right-hand margin of the screen. The selected finding appears first at the top of the cards and the correlated findings are listed below it in order of their correlation relevance, represented by a correlation score.

<img src="{{site.url}}{{site.baseurl}}/images/Security/sec-analytics/corr-cards.png" alt="Zooming in on a specific finding in the graph" width="30%">

You can select one of the correlated findings in the graph to shift the perspective of the correlation relationships. This sends the newly selected finding first to the top of the informational cards and displays the other findings as relative correlations.

The cards display details about each finding:
* The severity level of the finding.
* A correlation score for correlated findings. The score is based on the proximity of relevant findings in the threat scenario defined by the correlation rule. 
* The detection rule that generated the finding.
* For correlated findings, the correlation rule used to associate it with the selected finding.

